# WARNING: DO **NOT** BIND TO ANY NON-LOCAL ADDRESS OR FACE POTENTIAL REMOTELY
#          EXPLOITABLE SECURITY VULNERABILITIES INCLUDING ARBITRARY CODE
#          EXECUTION!!! THE DEFAULT CONFIGURATION DOES NOT SET UP PASSWORD
#          AUTHETICATION. YOU HAVE BEEN WARNED!!!
server.bind = "127.0.0.1"
server.port = env.HTTPD_PORT
server.document-root = env.HOME + "/public_html"

server.modules += ( "mod_alias", "mod_indexfile", "mod_proxy" )

index-file.names = ( "index.html" )

# WebSocket-enabled reverse proxy for NoVNC -> WayVNC
$HTTP["url"] == "/vnc/websocket" {
	# FIXME: configurable port is hard-coded here
	proxy.server = ( "" => (( "host" => "127.0.0.1", "port" => "5900" )))
	proxy.header = ( "upgrade" => "enable" )
}

# include config for WebGUI and WebConsole aliases and reverse proxies
# auto-generated from ~/.wine/drive_c/DCS_configs/DCS.*
include_shell env.HOME + "/.config/lighttpd/autoconfig.py"
